<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <title>Dungeon RPG â€” Pilih Karakter & Lantai</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Floating particles -->
  <div class="particles" id="particles"></div>

  <div id="game-root"></div>

  <!-- Controls -->
  <button id="skillBtn">SKILL (F)</button>
  <button id="restartBtn">Restart</button>
  <button id="menuBtn">Main Menu</button>

  <!-- START OVERLAY -->
  <div id="startOverlay">
    <div class="panel" role="dialog" aria-modal="true" aria-labelledby="gameTitle">
      <div class="title" id="gameTitle">âš”ï¸ Dungeon: Echo of Motion</div>
      <div class="subtitle">Masuk ke dungeon.</div>

      <div class="cards">
        <div class="char-card" id="card-melee" data-type="melee">
          <div style="display:flex;gap:14px;align-items:center">
            <div class="badge" style="background:linear-gradient(135deg,#00796b,#004d40)">MELEE</div>
            <div class="char-info">
              <div class="char-name">ğŸ›¡ï¸ Vanguard</div>
              <div class="char-desc">HP tinggi, serangan cone jarak dekat.</div>
              <div class="char-stats">HP: 120 â€¢ Speed: 4 â€¢ Melee</div>
            </div>
          </div>
        </div>

        <div class="char-card" id="card-ranged" data-type="ranged">
          <div style="display:flex;gap:14px;align-items:center">
            <div class="badge" style="background:linear-gradient(135deg,#ef6c00,#bf360c)">RANGED</div>
            <div class="char-info">
              <div class="char-name">ğŸ¹ Archer</div>
              <div class="char-desc">HP rendah, serang dari jarak jauh dengan panah.</div>
              <div class="char-stats">HP: 80 â€¢ Speed: 4.5 â€¢ Projectile</div>
            </div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="control-group">
          <label for="startFloor">Starting Floor:</label>
          <input id="startFloor" type="number" min="1" max="50" value="1" style="width:90px" />
        </div>
        <div style="flex:1"></div>
        <div class="control-group">
          <label for="difficulty">Difficulty:</label>
          <select id="difficulty">
            <option value="normal">Normal</option>
            <option value="hard">Hard</option>
            <option value="easy">Easy</option>
          </select>
        </div>
        <button class="start-btn" id="startBtn">âš¡ Enter Dungeon</button>
      </div>

      <div class="dungeon-info">
        ğŸ’¡ <strong>Tips:</strong> Saat naik lantai, musuh menjadi lebih kuat (HP & speed). Gunakan skill untuk bertahan â€” progres lantai akan muncul setelah mengalahkan musuh.
      </div>
    </div>
  </div>

  <!-- FLOOR CLEARED OVERLAY -->
  <div id="floorOverlay">
    <div class="floor-box">
      <h2>ğŸ† Floor Cleared!</h2>
      <p id="nextFloorText">Kamu mengalahkan musuh di lantai 1.</p>
      <div>
        <button class="btn-next" id="nextFloorBtn">Next Floor â†’</button>
        <button class="btn-menu" id="floorToMenuBtn">â† Kembali ke Menu</button>
      </div>
    </div>
  </div>

  <!-- HELPER CHOICE OVERLAY -->
  <div id="helperOverlay">
    <div class="helper-box">
      <h3>ğŸ¤ Choose a Helper</h3>
      <p>Pilih satu ally untuk bergabung (bertindak otomatis).</p>
      <div class="helper-buttons">
        <button id="helperMeleeBtn">ğŸ›¡ï¸ Melee Ally</button>
        <button id="helperRangedBtn">ğŸ¹ Ranged Ally</button>
        <button id="helperNoneBtn">âœ–ï¸ No Thanks</button>
      </div>
    </div>
  </div>

  <!-- GAME OVER OVERLAY -->
  <div id="gameOverOverlay">
    <div class="game-over-box">
      <div style="font-size:72px;margin-bottom:10px;animation:skullFloat 2s ease-in-out infinite">ğŸ’€</div>
      <h2>GAME OVER</h2>
      <p id="gameOverStats"></p>
      <div>
        <button id="gameOverRestartBtn">ğŸ”„ Restart Floor</button>
        <button id="gameOverMenuBtn">ğŸ  Main Menu</button>
      </div>
    </div>
  </div>

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
  <script src="https://unpkg.com/ml5@0.12.2/dist/ml5.min.js"></script>

  <!-- Scripts -->
  <script src="main.js"></script>
  <script type="module" src="./sketch.js"></script>
</body>

</html>
